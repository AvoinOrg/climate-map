<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8' />
    <title>Fish Map</title>
    <meta name='viewport' content='initial-scale=1,width=device-width,maximum-scale=1,user-scalable=no' />

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Fish Map">
    <meta property="og:description" content="">
    <meta property="og:image:height" content="552">
    <meta property="og:image:width" content="1106">
    <meta property="og:url" content="https://avoinmap.org/">
    <meta property="og:image" content="https://avoinmap.org/og-image.jpg">

    <link rel="stylesheet" href="src/app.css" />

    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script nomodule src="https://polyfill.io/v3/polyfill.min.js?features=Object.entries%2CObject.assign%2CElement.prototype.toggleAttribute%2CrequestAnimationFrame%2CElement.prototype.classList%2CURL%2Cfetch"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/1.3.1/mapbox-gl.css" integrity="sha256-t2fYcalxXkJ++B2YwGcM5KYrF8Fu9vCcO69LI16Q5Y0=" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/1.3.1/mapbox-gl.js" integrity="sha256-rljfq9LkOk7REQnNk7jisX0iwF+SDNQ4pDbD9cYeTVQ=" crossorigin="anonymous"></script>

    <!-- geocoder 4.x is buggy in dealing with bboxes... -->
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.6/mapbox-gl-geocoder.min.js'></script>
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.6/mapbox-gl-geocoder.css' type='text/css' />

    <script defer src="https://cdn.auth0.com/js/auth0/9.10/auth0.min.js"></script>

    <script defer src="src/index.ts"></script>

</head>

<body>
    <noscript style="height: 100%; display: grid; margin-top: 100px; position: relative; z-index: 1000 !important;">
        <a href="https://www.enable-javascript.com/" style="margin: auto;">
            <h1>This website requires Javascript.</h1>
        </a>
    </noscript>

    <script>
        var msie = window.navigator.userAgent.indexOf('MSIE ') !== -1; // IE 10 or older
        if (msie) {
            alert('This website requires Internet Explorer 11 or newer to run');

            (function(u) {
                var s = document.createElement('script');
                s.async = true;
                s.src = u;
                var b = document.getElementsByTagName('script')[0];
                b.parentNode.insertBefore(s, b);
            })('//updatemybrowser.org/umb.js');
        }
    </script>

    <div id='map'></div>

    <div class='satellite-button-container ui-button' onclick="toggleSatellite();">
        <img class='circle-icon terrain' src='outline-terrain-24px.svg'  />
        <img class='circle-icon satellite' src='outline-satellite-24px.svg' hidden />
    </div>

    <div id='menu-container' class='menu-toggle'>
        <h1>
            Fish Map by
            <a href="https://www.avoin.org">
                <img alt="Avoin - a non-profit registered association" src="avoin_org_logo.svg" />
            </a>
        </h1>
        <div class='layer-card'>
            <div class='title'>Pikeperch in Finland</div>
            <div class="onoffswitch">
                <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="fi-fish" checked />
                <label class="onoffswitch-label" for="fi-fish"></label>
            </div>
            <p>
                The abundance of pikeperch is estimated for approximately 10 000 lakes in Finland.

                <!--
                    Olin, M. , Rask, M. , Ruuhljärvi, J. , Kurkilahti, M. , Ala‐Opas, P.
                    and Ylönen, O. (2002), Fish community structure in mesotrophic and eutrophic
                    lakes of southern Finland: the relative abundances of percids and cyprinids
                    along a trophic gradient. Journal of Fish Biology, 60: 593-612.
                    doi:10.1111/j.1095-8649.2002.tb01687.x
                -->
                <a href="https://doi.org/10.1111/j.1095-8649.2002.tb01687.x">[1]</a>
                <!--
                    Ruuhijärvi, Jukka, et al. “Releases of Pikeperch (Stizostedion Luciopera (L.))
                    Fingerlings in Lakes with No Established Pikeperch Stock.”
                    Annales Zoologici Fennici, vol. 33, no. 3/4, 1996, pp. 553–567.
                    JSTOR, www.jstor.org/stable/23736101.
                -->
                <a href="https://www.jstor.org/stable/23736101">[2]</a>
            </p>
            <legend id="legend-snow-cover-loss">
                <ul class='legend-labels'>
                    <li><span style="background-color:#EEFEFF">0</span></li>
                    <li><span style="background-color:#D0FBFE">1</span></li>
                    <li><span style="background-color:#B2F7FD">2</span></li>
                    <li><span style="background-color:#79ECF9">3</span></li>
                    <li><span style="background-color:#22C6E9">5</span></li>
                    <li><span style="background-color:#006BB8; color:#ccc">8</span></li>
                    <li><span style="background-color:#003487; color:#ccc">10+</span></li>
                    <li>Fish abundance score:<br/> expected gillnet catch - kg/night</li>
                </ul>
            </legend>
        </div>

    </div>

    <output id='no2'></output>

    <div id="dataset-query-results" hidden>
    </div>

</body>

</html>